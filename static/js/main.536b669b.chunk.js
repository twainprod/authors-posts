(this["webpackJsonpuser-posts"]=this["webpackJsonpuser-posts"]||[]).push([[0],{10:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){},48:function(t,e,n){},49:function(t,e,n){"use strict";n.r(e);var s=n(0),a=n(1),r=n.n(a),c=n(19),i=n.n(c),o=(n(10),n(7)),u=n.n(o),l=n(8),d=n(3),h=n(4),j=n(6),f=n(5),b=n(27).default.create({baseURL:"https://jsonplaceholder.typicode.com/"}),p=function(){return b.get("users")},O=function(t){return b.get("posts/?userId=".concat(t))},m=(n(45),function(){return Object(s.jsx)("div",{className:"lds-dual-ring"})}),v=n(20),x=(n(46),function(t){var e=Object(a.useState)(""),n=Object(v.a)(e,2),r=n[0],c=n[1];return Object(s.jsxs)("div",{className:"inputBlock",children:[Object(s.jsx)("input",{type:"text",placeholder:"Search",value:r,onChange:function(t){return c(t.target.value)}}),Object(s.jsx)("button",{className:"btnSearch",onClick:function(){return t.onSearch(r)},children:Object(s.jsx)("i",{className:"fas fa-search"})})]})}),g=(n(47),function(t){var e=t.name,n=t.email,a=t.id,r=t.getPostsById;return Object(s.jsxs)("div",{className:"item",onClick:function(){return r(a)},children:[Object(s.jsx)("div",{className:"avatar",children:a}),Object(s.jsxs)("div",{className:"info",children:[Object(s.jsx)("div",{className:"name",children:e}),Object(s.jsx)("div",{className:"email",children:n})]}),Object(s.jsx)("div",{className:"showPosts",children:Object(s.jsx)("i",{className:"fas fa-angle-double-right"})})]})}),y=function(t){return t.data.map((function(e){return Object(s.jsx)(g,{name:e.name,email:e.email,id:e.id,getPostsById:t.getPostsById},e.id)}))},C=function(t){Object(j.a)(n,t);var e=Object(f.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"getFilteredData",value:function(){var t=this.props.state,e=t.data,n=t.search;return n?e.filter((function(t){return t.name.toLowerCase().includes(n.toLowerCase())||t.email.toLowerCase().includes(n.toLowerCase())})):e}},{key:"render",value:function(){var t=this,e=this.getFilteredData();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{children:"Authors"}),this.props.isLoading?Object(s.jsx)(m,{}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(x,{onSearch:this.props.onSearchHandler}),Object(s.jsx)(y,{data:e,getPostsById:this.props.getPostsById})," "]}),this.props.search?Object(s.jsxs)("button",{className:"btnClear",onClick:function(){t.props.nullInput()},children:[Object(s.jsx)("i",{className:"fas fa-angle-double-left"})," Show all authors"]}):null]})}}]),n}(r.a.Component),S=(n(48),function(t){return Object(s.jsxs)("div",{className:"postItem",children:[Object(s.jsx)("div",{className:"title",children:t.title}),Object(s.jsx)("div",{className:"body",children:t.body})]})}),k=function(t){return t.data.map((function(t){return Object(s.jsx)(S,{title:t.title,body:t.body},t.id+t.userId)}))},I=function(t){Object(j.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(d.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={posts:[],currentUser:t.props.currentUser,search:"",isLoading:!0},t.onPostsSearchHandler=function(e){t.setState({search:e})},t}return Object(h.a)(n,[{key:"fetchData",value:function(){var t=Object(l.a)(u.a.mark((function t(){var e,n,s,a=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:this.state.currentUser,t.next=3,O(e);case 3:n=t.sent,s=n.data,this.setState({posts:s,currentUser:e,isLoading:!1});case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchData(this.state.currentUser),this.setState({isLoading:!0})}},{key:"componentDidUpdate",value:function(t){var e=this.props.currentUser;e!==t.currentUser&&this.fetchData(e)}},{key:"getFilteredPosts",value:function(){var t=this.state,e=t.posts,n=t.search;return n?e.filter((function(t){return t.title.toLowerCase().includes(n.toLowerCase())||t.body.toLowerCase().includes(n.toLowerCase())})):e}},{key:"nullInput",value:function(){this.setState({search:""})}},{key:"render",value:function(){var t=this,e=this.getFilteredPosts();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("p",{children:["Posts of the ID: ",this.state.currentUser]}),this.state.isLoading?Object(s.jsx)(m,{}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(x,{onSearch:this.onPostsSearchHandler}),Object(s.jsx)(k,{data:e}),Object(s.jsxs)("div",{className:"btnBack",children:[Object(s.jsxs)("button",{onClick:function(){t.props.nullCurrentUser()},children:[Object(s.jsx)("i",{className:"fas fa-angle-double-left"})," Back"]}),this.state.search?Object(s.jsxs)("button",{onClick:function(){return t.nullInput()},children:[Object(s.jsx)("i",{className:"fas fa-angle-double-up"})," Show all posts"]}):null]})]})]})}}]),n}(r.a.Component),L=function(t){Object(j.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(d.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={isLoading:!0,data:[],currentUser:null,search:""},t.getPostsById=function(e){t.setState({currentUser:e})},t.onSearchHandler=function(e){t.setState({search:e})},t.nullCurrentUser=function(){t.setState({currentUser:null})},t.nullInput=function(){t.setState({search:""})},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=Object(l.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:e=t.sent,n=e.data,this.setState({isLoading:!1,data:n});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(s.jsx)("div",{className:"App",children:this.state.currentUser?Object(s.jsx)(I,{currentUser:this.state.currentUser,nullCurrentUser:this.nullCurrentUser}):Object(s.jsx)(C,{state:this.state,data:this.state.data,onSearchHandler:this.onSearchHandler,getPostsById:this.getPostsById,search:this.state.search,isLoading:this.state.isLoading,nullInput:this.nullInput})})}}]),n}(r.a.PureComponent),N=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(e){var n=e.getCLS,s=e.getFID,a=e.getFCP,r=e.getLCP,c=e.getTTFB;n(t),s(t),a(t),r(t),c(t)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(L,{})}),document.getElementById("root")),N()}},[[49,1,2]]]);
//# sourceMappingURL=main.536b669b.chunk.js.map